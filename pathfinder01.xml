<?xml version="1.0" encoding="UTF-8"?>
<RuleSet name="pf" title="Pathfinder" description="Pathfinder Roleplaying Game">
	<Formulae>
		<Formula name="convert_modifier_to_string" type="Str">
			<If inType="Int" outType="Str">
				<Compare fromId="this" attribute="modifier" />
				<GreaterThan value="-1" />
				<Then fromId="this" attribute="modifier" prepend="+" />
				<Else fromId="this" attribute="modifier" />
			</If>
		</Formula>
		<Formula name="convert_value_to_string" type="Str">
			<If inType="Int" outType="Str">
				<Compare fromId="this" attribute="value" />
				<GreaterThan value="-1" />
				<Then fromId="this" attribute="value" prepend="+" />
				<Else fromId="this" attribute="value" />
			</If>
		</Formula>
	</Formulae>
	<Stats>
		<Group id="ability_scores" userEditable="true" type="IntBonusable" startingValue="0" minValue="0" maxValue="99">
			<Stat id="STR" title="Strength" startingValue="20" />
			<Stat id="DEX" title="Dexterity" />
			<Stat id="CON" title="Constitution" />
			<Stat id="INT" title="Intelligence" />
			<Stat id="WIS" title="Wisdom" />
			<Stat id="CHA" title="Charisma" />
			<Attribute name="modifier" userEditable="false" minValue="-99">
				<Math>
					<Add fromId="this" />
					<Add value="-10" />
					<Divide value="2" />
					<Floor />
				</Math>
			</Attribute>
			<Attribute name="modifier_text" type="Str" userEditable="false" formula="convert_modifier_to_string" />
		</Group>
		<Stat id="Level" title="Level" type="Int" startingValue="1" minValue="1" />
		<Stat id="Init" title="Initiative" type="IntBonusable" startingValue="8" minValue="-99">
			<Attribute name="modifier_text" formula="convert_value_to_string" />
		</Stat>
		<Stat id="SkillPoints" type="IntBonusable" title="Skill Points" minValue="0" />
		<Group id="skills" userEditable="true" type="IntBonusable" startingValue="0" minValue="0" background="false">
			<Attribute name="maxValue" getFromId="Level" attribute="value" />
			<Group id="strength_skill">
				<Stat id="Climb" title="Climb" />
				<Stat id="Swim" title="Swim" />
				<Attribute name="score_mod" minValue="-99" getFromId="STR" attribute="modifier" />
			</Group>
			<Group id="dexterity_skill">
				<Stat id="Acrobatics" title="Acrobatics" />
				<Stat id="Disable Device" title="Disable Device" />
				<Stat id="Escape Artist" title="Escape Artist" />
				<Stat id="Fly" title="Fly" />
				<Stat id="Ride" title="Ride" />
				<Stat id="Sleight of Hand" title="Sleight of Hand" background="true" />
				<Stat id="Stealth" title="Stealth" />
				<Attribute name="score_mod" minValue="-99" getFromId="DEX" attribute="modifier" />
			</Group>
			<Group id="intelligence_skill">
				<Stat id="Appraise" title="Appraise" background="true" />
				<Stat id="Knowledge (arcana)" title="Knowledge (arcana)" />
				<Stat id="Knowledge (dungeoneering)" title="Knowledge (dungeoneering)" />
				<Stat id="Knowledge (engineering)" title="Knowledge (engineering)" background="true" />
				<Stat id="Knowledge (geography)" title="Knowledge (geography)" background="true" />
				<Stat id="Knowledge (history)" title="Knowledge (history)" background="true" />
				<Stat id="Knowledge (local)" title="Knowledge (local)" />
				<Stat id="Knowledge (nature)" title="Knowledge (nature)" />
				<Stat id="Knowledge (nobility)" title="Knowledge (nobility)" background="true" />
				<Stat id="Knowledge (planes)" title="Knowledge (planes)" />
				<Stat id="Knowledge (religion)" title="Knowledge (religion)" />
				<Stat id="Linguistics" title="Linguistics" background="true" />
				<Stat id="Spellcraft" title="Spellcraft" />
				<MultiStat id="craft_skills" idPre="SkillCraft" titlePre="Craft (" titlePost=")" background="true" />
				<Attribute name="score_mod" minValue="-99" getFromId="INT" attribute="modifier" />
			</Group>
			<Group id="wisdom_skill">
				<Stat id="Heal" title="Heal" />
				<Stat id="Perception" title="Perception" />
				<Stat id="Sense Motive" title="Sense Motive" />
				<Stat id="Survival" title="Survival" />
				<MultiStat id="profession_skills" idPre="SkillProfession" titlePre="Profession (" titlePost=")" background="true" />
				<Attribute name="score_mod" minValue="-99" getFromId="WIS" attribute="modifier" />
			</Group>
			<Group id="charisma_skill">
				<Stat id="Bluff" title="Bluff" />
				<Stat id="Diplomacy" title="Diplomacy" />
				<Stat id="Disguise" title="Disguise" />
				<Stat id="Handle Animal" title="Handle Animal" background="true" />
				<Stat id="Intimidate" title="Intimidate" />
				<Stat id="Use Magic Device" title="Use Magic Device" />
				<MultiStat id="perform_skills" idPre="SkillPerform" titlePre="Perform (" titlePost=")" background="true" />
				<Attribute name="score_mod" minValue="-99" getFromId="CHA" attribute="modifier" />
			</Group>
			<Attribute name="modifier" minValue="-99">
				<Math>
					<Add fromId="this" attribute="value" />
					<Add fromId="this" attribute="score_mod" />
				</Math>
			</Attribute>
			<Attribute name="modifier_text" type="Str" formula="convert_modifier_to_string" />
		</Group>
		<Group id="saving_throws" type="IntBonusable" minValue="-99" maxValue="99" startingValue="0">
			<Stat id="FortSave" title="Fortitude">
				<Attribute name="score_mod" getFromId="CON" attribute="modifier" />
			</Stat>
			<Stat id="ReflSave" title="Reflex">
				<Attribute name="score_mod" getFromId="DEX" attribute="modifier" />
			</Stat>
			<Stat id="WillSave" title="Will">
				<Attribute name="score_mod" getFromId="WIS" attribute="modifier" />
			</Stat>
			<Attribute name="modifier" minValue="-99">
				<Math>
					<Add fromId="this" attribute="value" />
					<Add fromId="this" attribute="score_mod" />
				</Math>
			</Attribute>
			<Attribute name="modifier_text" type="Str" formula="convert_modifier_to_string" />
		</Group>
		<Stat id="BAB" type="IntBonusable" title="Base Attack Bonus" startingValue="0">
			<Attribute name="full_attack_text">
				<While inType="Int" outType="Str">
					<Until operation="AND">
						<GreaterThan value="5" />
					</Until>
					<Input fromId="this" attribute="value" />
					<Output fromId="this" attribute="modifier_text" />
					<ModifyInput add="-5" />
					<ModifyOutput add="/+" useInput="add" />
				</While>
			</Attribute>
			<Attribute name="modifier_text" type="Str" formula="convert_value_to_string" />
		</Stat>
	</Stats>
	<displayModules>
		<module title="Ability Scores">
			<activate>
				<start>1</start>
			</activate>
			<Description>Your ability scores modify most of your die rolls.</Description>
			<html>
			</html>
		</module>
	</displayModules>
	<favoredClassBonuses>
		<any>
			<Description>+1 hp</Description>
			<bonus>
				<pool>hp</pool>
				<amount>1</amount>
			</bonus>
		</any>
		<any>
			<Description>+1 skill point</Description>
			<bonus>
				<pool>skillPoints</pool>
				<amount>1</amount>
			</bonus>
		</any>
	</favoredClassBonuses>
	<formulae>
		<formula Name="halfLevel">
			<start>0</start>
			<operations>
				<Add Pool="level" />
				<Divide Number="2" />
				<Floor />
			</operations>
			<min>1</min>
			<text>half your level</text>
			<display><Value /></display>
		</formula>
	</formulae>
	<backgroundModules>
		<module title="Level">
			<pool></pool>
		</module>
	</backgroundModules>
</RuleSet>
